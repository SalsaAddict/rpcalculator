var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),module=angular.module("rpcalc",["ngRoute","ngMessages","ngStorage"]),RPCalculator;module.config(["$routeProvider",function(n){n.when("/workbook",{templateUrl:"Views/workbook.html",controller:RPCalculator.Workbook.Controller,controllerAs:"$ctrl"}).when("/worksheets/:index",{templateUrl:"Views/worksheet.html",controller:RPCalculator.Worksheet.Controller,controllerAs:"$ctrl"}).when("/judges/:index",{templateUrl:"Views/judges.html",controller:RPCalculator.Judges.Controller,controllerAs:"$ctrl"}).otherwise({redirectTo:"/workbook"}).caseInsensitiveMatch=!0}]);module.run(["$rootScope",function(n){n.textPattern=RPCalculator.textPattern;n.numberPattern=RPCalculator.numberPattern;n.vclass=function(n,t,i){t===void 0&&(t="is-valid");i===void 0&&(i="is-invalid");var r={};return t!==null&&Object.defineProperty(r,t,{get:function(){return n.$valid},enumerable:!0}),i!==null&&Object.defineProperty(r,i,{get:function(){return n.$invalid},enumerable:!0}),r}}]),function(n){"use strict";function t(t){var i=new RegExp(n.numberPattern);if(i.test(t))return parseInt(i.exec(t)[1],10)}var r,i,u;n.textPattern="(^[\\w\\s-]+$)";n.numberPattern="(^\\d+$)";n.toInt=t;n.Example={title:"Skating System Example",worksheets:[{title:"Simple Example",judges:["John","Paul","George","Ringo","BeyoncÃ©","Kelly","Michelle"]},{title:"Intermediate Example"},{title:"Complex Example"},]},function(t){var r=function(){function t(n,t){this.$localStorage=n;this.$location=t}return t.prototype.go=function(n,t){n===void 0&&(n="/workbook");t>=0&&(n+="/"+t);this.$location.path(n)},Object.defineProperty(t.prototype,"workbook",{get:function(){return angular.isUndefined(this.$localStorage.workbook)&&(this.$localStorage.workbook=n.Example),this.$localStorage.workbook},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return angular.isUndefined(this.workbook.title)&&(this.workbook.title="New Workbook"),this.workbook.title},set:function(n){this.workbook.title=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worksheets",{get:function(){return angular.isArray(this.workbook.worksheets)||(this.workbook.worksheets=[]),this.workbook.worksheets},enumerable:!0,configurable:!0}),t.prototype.judgesValidationError=function(n){return!angular.isArray(n.judges)||n.judges.length<3?"There must be at least 3 judges":n.judges.length>7?"There cannot be more than 7 judges":n.judges.length%2==0?"There must be an odd number of judges":void 0},t.prototype.validateJudges=function(n){return!this.judgesValidationError(n)},t.$inject=["$localStorage","$location"],t}(),i;t.Service=r;i=function(){function n(n){this.$wb=n}return n.$inject=["$wb"],n}();t.Controller=i}(r=n.Workbook||(n.Workbook={})),function(n){var i=function(){function n(){(angular.isUndefined(this.index)||angular.isUndefined(this.$wb.worksheets[this.index]))&&this.$wb.go()}return Object.defineProperty(n.prototype,"index",{get:function(){return t(this.$routeParams.index)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"worksheet",{get:function(){return this.$wb.worksheets[this.index]},enumerable:!0,configurable:!0}),n}(),r;n.BaseController=i;r=function(n){function t(t,i){var r=n.call(this)||this;return r.$wb=t,r.$routeParams=i,t.validateJudges(r.worksheet)||t.go("/judges",r.index),r}return __extends(t,n),Object.defineProperty(t.prototype,"judges",{get:function(){return angular.isArray(this.worksheet.judges)||(this.worksheet.judges=[]),this.worksheet.judges},enumerable:!0,configurable:!0}),t.$inject=["$wb","$routeParams"],t}(i);n.Controller=r}(i=n.Worksheet||(n.Worksheet={})),function(n){var t=function(n){function t(t,i){var r=n.call(this)||this;return r.$wb=t,r.$routeParams=i,r}return __extends(t,n),Object.defineProperty(t.prototype,"invalid",{get:function(){return!this.$wb.validateJudges(this.worksheet)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this.$wb.judgesValidationError(this.worksheet)},enumerable:!0,configurable:!0}),t.$inject=["$wb","$routeParams"],t}(i.BaseController);n.Controller=t}(u=n.Judges||(n.Judges={}))}(RPCalculator||(RPCalculator={}));module.service("$wb",RPCalculator.Workbook.Service);